<div class="student-form">
  <div class="edit-add-form-title">
    <div *ngIf="selectedStudent; else elseBlock">
      Editing {{ selectedStudent.firstName }} {{ selectedStudent.lastName }}
    </div>
    <ng-template #elseBlock>
      Add New Student
    </ng-template>
  </div>
  <mat-divider></mat-divider>
  <form>
    <table class="flex-table">
      <tr>
        <td>
          <!--First Name-->
          <mat-form-field class="first-name-input">
            <mat-label>First name</mat-label>
            <input matInput [(ngModel)]="firstName" name="first">
          </mat-form-field>
        </td>
        <td>
          <!--Last Name-->
          <mat-form-field class="last-name-input">
            <mat-label>Last Name</mat-label>
            <input matInput [(ngModel)]="lastName" name="last">
          </mat-form-field>
        </td>
      </tr>
    </table>

    <!--Course Options-->
    <div class="radio-buttons">
      <label for="course">Course: </label>
      <mat-radio-group
        id="course"
        aria-label="Select Course"
        [(ngModel)]="selectedCourse"
        name="course"
      >
        @for (course of courses; track course) {
          <mat-radio-button class="radio-button" [value]="course">{{ course }}</mat-radio-button>
        }
      </mat-radio-group>
    </div>

    <!--Teacher Dropdown-->
    <div class="teacher-select">
      <mat-form-field>
        <mat-label>Select Teacher</mat-label>
        <mat-select [(value)]="teacher" [compareWith]="isSameTeacher">
          @for (teacher of teachers; track teacher) {
            <mat-option [value]="teacher">{{ teacher.firstName }} {{ teacher.lastName }}</mat-option>
          }
        </mat-select>
      </mat-form-field>
    </div>
  </form>
  <div class="spacer"></div>
  <button mat-stroked-button
          (click)="selectedStudent ? editStudent() : createStudent()
          " [disabled]="isAddButtonDisabled"
  >
    {{ selectedStudent ? 'Edit' : 'Add' }} Student
  </button>
</div>
